<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h1 id="displayMsg"></h1>

    <label for="msg">Mensagem</label>
    <input type="text" name="msg" id="msg" />

    <br />
    <br />
    <div>
      <button id="addBtn">Adicionar</button>
      <button id="saveBtn">Salvar mensagem</button>
      <button id="showBtn">Mostrar mensagem</button>
      <button onclick="clearCache()">Limpar Cache</button>
    </div>

    <script>
      const addBtn = document.querySelector("#addBtn");
      const saveBtn = document.querySelector("#saveBtn");
      const showBtn = document.querySelector("#showBtn");
      const inputMsg = document.querySelector("#msg");
      const displayMsg = document.querySelector("#displayMsg");

      addBtn.addEventListener("click", () => {
        if (!inputMsg.value) {
          displayMsg.textContent = "Insira algum texto no campo.";
          return;
        }
        displayMsg.textContent = inputMsg.value;
      });

      saveBtn.addEventListener("click", () => {
        if (!inputMsg.value) {
          displayMsg.textContent = "Insira algum texto no campo.";
          return;
        }
        localStorage.setItem("msg", JSON.stringify(inputMsg.value));
      });

      showBtn.addEventListener("click", () => {
        displayMsg.textContent = JSON.parse(localStorage.getItem("msg"));
      });

      function clearCache() {
        localStorage.clear();
      }
    </script>
  </body>
</html>
